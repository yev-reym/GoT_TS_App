(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"../src/components/Character/components/SwornMembers.tsx":function(e,t,a){"use strict";a.r(t);var o=a("../node_modules/react/index.js"),n=a.n(o),r=a("../node_modules/react-router/esm/react-router.js"),l=a("../src/components/Character/index.tsx"),s=a("../src/components/Loader/index.tsx"),c=a("../src/utils/index.ts"),i=a("../node_modules/@material-ui/icons/ArrowLeftSharp.js"),m=a.n(i),u=a("../node_modules/@material-ui/core/esm/InputLabel/InputLabel.js"),d=a("../node_modules/@material-ui/core/esm/MenuItem/MenuItem.js"),p=a("../node_modules/@babel/runtime/helpers/esm/extends.js"),b=a("../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),f=(a("../node_modules/prop-types/index.js"),a("../node_modules/clsx/dist/clsx.m.js")),h=a("../node_modules/@material-ui/core/esm/styles/withStyles.js"),v=a("../node_modules/@material-ui/core/esm/utils/capitalize.js"),y=o.forwardRef((function(e,t){var a=e.classes,n=e.className,r=e.color,l=void 0===r?"default":r,s=e.component,c=void 0===s?"li":s,i=e.disableGutters,m=void 0!==i&&i,u=e.disableSticky,d=void 0!==u&&u,h=e.inset,y=void 0!==h&&h,E=Object(b.a)(e,["classes","className","color","component","disableGutters","disableSticky","inset"]);return o.createElement(c,Object(p.a)({className:Object(f.a)(a.root,n,"default"!==l&&a["color".concat(Object(v.a)(l))],y&&a.inset,!d&&a.sticky,!m&&a.gutters),ref:t},E))})),E=Object(h.a)((function(e){return{root:{boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:e.palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},colorPrimary:{color:e.palette.primary.main},colorInherit:{color:"inherit"},gutters:{paddingLeft:16,paddingRight:16},inset:{paddingLeft:72},sticky:{position:"sticky",top:0,zIndex:1,backgroundColor:"inherit"}}}),{name:"MuiListSubheader"})(y),g=a("../node_modules/@material-ui/core/esm/FormControl/FormControl.js"),j=a("../node_modules/@material-ui/core/esm/Select/Select.js"),k=a("../src/components/Character/styles.scss"),_=function(e,t,a,o){return new(a||(a=Promise))((function(n,r){function l(e){try{c(o.next(e))}catch(e){r(e)}}function s(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,s)}c((o=o.apply(e,t||[])).next())}))};t.default=({location:e,match:t})=>{var a,i;const[p,b]=Object(o.useState)("None"),[f,h]=Object(o.useState)([]),[v,y]=Object(o.useState)(!1),[w,x]=Object(o.useState)(null),[N,S]=Object(o.useState)(null),O=Object(r.f)(),B=Object(o.useRef)(!0),{houseId:M}=t.params,A=!!(null==e?void 0:e.state),C=(e,t)=>"None"===t?e:"Male"===t||"Female"===t?e.filter(e=>e.gender===t):e.filter(e=>!!(null==e?void 0:e.books.find(e=>e[e.length-1]===t)));Object(o.useEffect)(()=>{if(A){const{state:{swornMembers:t}}=e;console.log(t),y(!0),h(t)}else _(void 0,void 0,void 0,(function*(){y(!0);try{const e=yield Object(c.b)("houses/"+M);if(e.data){const{swornMembers:t,name:a}=e.data;x(a),0===t.length?h("Not Available"):h(t)}}catch(e){S(e.message)}}))},[]),Object(o.useEffect)(()=>{Array.isArray(f)&&0!==f.length&&B.current?_(void 0,void 0,void 0,(function*(){const e=[];for(const t of f){const a=t.replace("https://www.anapioficeandfire.com/api/","");try{const t=yield Object(c.b)(""+a);t.data&&e.push(t.data)}catch(e){S(e.message)}}B.current=!1,h(e),y(!1)})):y(!1)},[JSON.stringify(f)]),Object(o.useEffect)(()=>()=>B.current=!0,[]);const F=e=>e.map((e,t)=>n.a.createElement(l.a,{characterUrl:e.url,key:t,suppliedCharacterData:e}));return v&&0===f.length||Array.isArray(f)&&"string"==typeof f[0]?n.a.createElement(s.a,null):n.a.createElement("section",{className:k.a.members_container},n.a.createElement("div",{className:k.a.section__top},n.a.createElement("span",{className:k.a.backbtn,onClick:()=>A?O.goBack():O.push("/houses/"+M)},n.a.createElement(m.a,null),"Back to Houses"),Array.isArray(f)&&0!==f.length&&n.a.createElement(g.a,{variant:"outlined"},n.a.createElement("span",{style:{marginBottom:"5px"}},"Filter By:"),n.a.createElement(u.a,{htmlFor:"members-filter"}),n.a.createElement(j.a,{defaultValue:"None",autoWidth:!0,id:"members-filter",onChange:e=>b(""+e.target.value)},n.a.createElement(d.a,{value:"None"},n.a.createElement("em",null,"None")),n.a.createElement(E,null,"Gender"),n.a.createElement(d.a,{value:"Male"},"Male"),n.a.createElement(d.a,{value:"Female"},"Female"),n.a.createElement(E,null,"Books"),n.a.createElement(d.a,{value:"1"},"Book 1"),n.a.createElement(d.a,{value:"2"},"Book 2"),n.a.createElement(d.a,{value:"3"},"Book 3"),n.a.createElement(d.a,{value:"4"},"Book 4"),n.a.createElement(d.a,{value:"5"},"Book 5"),n.a.createElement(d.a,{value:"6"},"Book 6"),n.a.createElement(d.a,{value:"7"},"Book 7"),n.a.createElement(d.a,{value:"8"},"Book 8"),n.a.createElement(d.a,{value:"9"},"Book 9"),n.a.createElement(d.a,{value:"10"},"Book 10"),n.a.createElement(d.a,{value:"11"},"Book 11"),n.a.createElement(d.a,{value:"12"},"Book 12")))),n.a.createElement("h2",null,null!==(i=null===(a=null==e?void 0:e.state)||void 0===a?void 0:a.houseName)&&void 0!==i?i:w),Array.isArray(f)?n.a.createElement("div",{className:k.a.members_container__grid},0===F(C(f,p)).length&&"None"!==p?n.a.createElement("div",{className:k.a["members_container--empty"]},"No Sworn Members Under Current Filter"):F(C(f,p))):n.a.createElement("div",{className:k.a["members_container--empty"]},"No Sworn Members Available"))}}}]);